<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RPS</title>
</head>
<body>
    
    <script>
        let choices = ["rock", "paper", "scissors"]

        function getComputerChoice(choices){
            return choices[Math.floor(Math.random() * 3)]
        }

        function getPlayerChoice(choices){
            return prompt("Enter Rock Paper or Scissors:").toLowerCase()
        }

        function playRound(playerSelection, computerSelection){
            if (playerSelection === computerSelection){
                return 'draw';
            } else if((playerSelection==='paper' && computerSelection==='rock') || (playerSelection==='rock' && computerSelection==='scissors') || (playerSelection==='scissors' && computerSelection==='paper')){
                return 'win';
            } else{
                return 'lose';
            }
        }

        function game(playRound, repeat){

            let playerRoundWins = 0
            let computerRoundWins = 0
            let overallWinner;

            for(let i= 1; i <= repeat; i++){
                console.log("Round: "+ (i))
                console.log('Player: '+playerRoundWins)
                console.log('Computer: '+computerRoundWins)

                let computerSelection = getComputerChoice(choices)
                console.log("Com choice: " + computerSelection)

                let playerSelection = getPlayerChoice(choices)
                console.log("Plyr choice: " + playerSelection)

                let result = playRound(playerSelection, computerSelection)
                console.log(result)

                switch(result){
                    case "win":
                        ++playerRoundWins;
                        break;
                    case "lose":
                        ++computerRoundWins;
                        break;
                }
            }

            if (playerRoundWins > computerRoundWins){
                overallWinner = "player"
            } else if (computerRoundWins > playerRoundWins){
                overallWinner = "computer"
            } else{
                overallWinner = 'draw'
            }

            console.log(overallWinner+ " wins overall!")
        }

        game(playRound, 5)

    </script>

</body>
</html>